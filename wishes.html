<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£ ‚Äî Happy Birthday</title>
  <style>
    :root{
      --card:#fff; --muted:#7a7a8c; --shadow:0 10px 30px rgba(25,23,40,.12);
      --brand-2:#ffd6e7; --brand-3:#bde0fe; --brand-4:#ffe5a5;
      --bg1:#fefaff; --bg2:#f2f7ff; --bg3:#fff0f6;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0; overflow-x:hidden;
      font-family: ui-rounded, system-ui, "Segoe UI", Poppins, sans-serif; color:#2d2a32;
      background: linear-gradient(135deg,var(--bg1),var(--bg2) 45%,var(--bg3));
      min-height:100%;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:900px; margin:0 auto; padding:clamp(12px,4vw,24px); position:relative; z-index:1}

    /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ü‡∏≠‡∏á */
    .bg-bubbles{position:fixed; inset:0; pointer-events:none; z-index:0; overflow:hidden}
    .bubble{position:absolute; border-radius:50%; opacity:.28; filter:blur(.3px); animation:floatUp linear infinite}
    @keyframes floatUp{0%{transform:translateY(110vh) scale(.9)}100%{transform:translateY(-10vh) scale(1)}}

    /* Header */
    header.topbar{
      display:flex; justify-content:space-between; align-items:center; gap:12px;
      margin-bottom:18px; position:sticky; top:0; z-index:2;
      padding:12px 16px;
      background:rgba(255,255,255,.65);
      backdrop-filter: blur(8px) saturate(1.2);
      border-radius:20px; box-shadow:0 4px 14px rgba(0,0,0,.06);
    }
    header.topbar h1{margin:0;font-size:clamp(18px,5vw,24px);display:flex;align-items:center;gap:6px}
    .btn{
      appearance:none; border:1px solid rgba(0,0,0,.08); background:var(--card);
      padding:10px 14px; border-radius:14px; font-weight:600; cursor:pointer; box-shadow: var(--shadow);
      position:relative; overflow:hidden; transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .btn::after{content:"";position:absolute;inset:0;background:linear-gradient(120deg,#ffffffa0,#ffffff00 40%);transform:translateX(-120%);transition:transform .45s ease}
    .btn:hover{transform:translateY(-2px);box-shadow:0 12px 26px rgba(189,224,254,.28),var(--shadow);border-color:rgba(0,0,0,.12)}
    .btn:hover::after{transform:translateX(0)}
    .btn.brand{background:linear-gradient(120deg,var(--brand-2),var(--brand-3)); border:none}

    .card{background:var(--card); border:1px solid rgba(0,0,0,.06); border-radius:24px; padding:22px; box-shadow:var(--shadow); margin-bottom:20px}
    .chip{display:inline-block; padding:6px 10px; border-radius:999px; background:linear-gradient(120deg,var(--brand-4),var(--brand-2)); font-weight:700; font-size:12px}
    .lead{color:var(--muted)}
    .toolbar{display:flex; gap:8px; flex-wrap:wrap; margin:14px 0 10px}

    /* Disc Player */
    .player{display:grid; gap:14px; justify-items:center; margin:10px 0 18px}
    .disc-wrap{position:relative; display:grid; place-items:center}
    .disc{width:min(68vw,240px); aspect-ratio:1/1; border-radius:50%;
      background:radial-gradient(circle at 30% 30%, #555 0 6%, #333 7% 50%, #111 52% 100%);
      box-shadow: inset 0 0 0 6px #222, inset 0 0 0 12px #111;
      animation:spinDisc 6s linear infinite; animation-play-state:paused}
    @keyframes spinDisc{to{transform:rotate(360deg)}}
    .disc-cover{position:absolute; inset:14% 14%; width:72%; height:72%; border-radius:50%; object-fit:cover; box-shadow:0 0 0 6px #fff7}
    .disc-hole{position:absolute; left:50%; top:50%; width:10px; height:10px; margin:-5px 0 0 -5px; background:#eee; border-radius:50%}
    .tonearm{position:absolute; right:18%; top:6%; width:100px; height:10px; background:#333; transform-origin:0 50%; border-radius:6px; box-shadow:0 2px 6px rgba(0,0,0,.2); transform:rotate(-8deg)}
    .row{display:flex; gap:10px; justify-content:center; flex-wrap:wrap}

    /* Visualizer */
    #vizCanvas{width:100%; height:70px; display:block; margin-top:6px; border-radius:12px; background:linear-gradient(180deg,#ffffff80,#ffffff40); box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}

    /* Wish */
    .wish-block{position:relative; overflow:hidden}
    .wish-block::before{content:""; position:absolute; inset:-20% -10%; background:repeating-conic-gradient(from 0deg,#ffd6e720 0deg 20deg,#bde0fe20 20deg 40deg); animation:spin 22s linear infinite; z-index:0;}
    @keyframes spin{to{transform:rotate(360deg)}}
    .wish-text{position:relative; z-index:1; font-size:clamp(16px,2.1vw,20px); line-height:1.9; color:#444; background:linear-gradient(120deg,#fff0,#ffe9f5),var(--card); border-radius:22px; padding:18px}

    footer{padding:30px 0 60px; text-align:center; color:#777}

    /* Mobile */
    @media (max-width:480px){.disc{width:min(64vw,200px);}#vizCanvas{height:56px;}.card{padding:16px;}}
    
    /* Confetti */
    #confetti{position:fixed;inset:0;pointer-events:none;z-index:2000}
  </style>
</head>
<body>
  <div class="bg-bubbles" id="bubbles"></div>
  <canvas id="confetti"></canvas>

  <main class="wrap">
    <header class="topbar">
      <h1>‚úâÔ∏è ‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</h1>
      <a class="btn" href="index.html">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    </header>

    <!-- Player -->
    <section class="card">
      <span class="chip">üéµ ‡πÄ‡∏û‡∏•‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®</span>
      <div class="player">
        <div class="disc-wrap">
          <div class="disc paused" id="disc">
            <img src="/assets/cover.jpg" alt="cover" class="disc-cover" />
            <div class="disc-hole"></div>
          </div>
          <div class="tonearm" id="tonearm"></div>
        </div>
        <canvas id="vizCanvas"></canvas>
        <div class="row">
          <button class="btn brand" id="togglePlay">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á</button>
          <input type="range" id="volume" min="0" max="1" step="0.01" value="0.8">
        </div>
        <p class="lead" style="margin:0">‡πÄ‡∏û‡∏•‡∏á + ‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</p>
        <audio id="audio" preload="auto"><source src="song.mp3" type="audio/mpeg" /></audio>
      </div>
    </section>

    <!-- Wishes -->
    <section class="card">
      <div class="toolbar">
        <button class="btn" id="randomWish">‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</button>
        <button class="btn brand" id="copyWish">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
      </div>
      <div class="wish-block">
        <div class="wish-text" id="wishText" contenteditable>
          ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏° ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ ‡πÜ üå∑‚ú®
        </div>
      </div>
      <p class="lead" style="font-size:12px;margin-top:8px">* ‡∏î‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏•‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</p>
    </section>

    <footer>‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‚ú®</footer>
  </main>

  <script>
    /* Bubbles */
    const colors=['#ffd6e7','#bde0fe','#95d5b2','#ffe5a5','#ffc8dd'];
    const bubbles=document.getElementById('bubbles');
    for(let i=0;i<22;i++){const b=document.createElement('div');b.className='bubble';const s=28+Math.random()*90;b.style.width=b.style.height=s+'px';b.style.left=Math.random()*100+'%';b.style.background=colors[(Math.random()*colors.length)|0];b.style.animationDuration=(16+Math.random()*18)+'s';b.style.animationDelay=(-Math.random()*20)+'s';bubbles.appendChild(b);}

    /* Player */
    const audio=document.getElementById('audio'),disc=document.getElementById('disc'),toggle=document.getElementById('togglePlay'),vol=document.getElementById('volume'),tone=document.getElementById('tonearm'),viz=document.getElementById('vizCanvas'),ctx=viz.getContext('2d');
    let audioCtx,analyser,src,data;
    function fitCanvas(){viz.width=viz.clientWidth;viz.height=viz.clientHeight;}window.addEventListener('resize',fitCanvas);fitCanvas();
    function setPaused(p){disc.style.animationPlayState=p?'paused':'running';toggle.textContent=p?'‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á':'‚è∏ ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á';tone.style.transform=p?'rotate(-8deg)':'rotate(12deg)';}
    setPaused(true);
    toggle.addEventListener('click', async ()=>{if(audio.paused){try{await audio.play();setPaused(false);if(!audioCtx){audioCtx=new (window.AudioContext||window.webkitAudioContext)();src=audioCtx.createMediaElementSource(audio);analyser=audioCtx.createAnalyser();analyser.fftSize=128;data=new Uint8Array(analyser.frequencyBinCount);src.connect(analyser);analyser.connect(audioCtx.destination);drawViz();}}catch{alert('‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å auto-play ‡πÉ‡∏´‡πâ‡∏Å‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏∞');}}else{audio.pause();setPaused(true);}});
    audio.addEventListener('ended',()=>setPaused(true));vol.addEventListener('input',e=>audio.volume=+e.target.value);
    function drawViz(){requestAnimationFrame(drawViz);if(!analyser)return;analyser.getByteFrequencyData(data);ctx.clearRect(0,0,viz.width,viz.height);const barW=viz.width/data.length;for(let i=0;i<data.length;i++){const h=data[i]/255*viz.height;ctx.fillStyle=i%2?'#95d5b2':'#bde0fe';ctx.fillRect(i*barW,viz.height-h,barW-1,h);}}

    /* Wishes + Confetti */
    const wishText=document.getElementById('wishText');const wishes=['‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ üéÇ ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ ‡πÜ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤','‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å ‡πÜ üéâ','‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ù‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠ üå∏','‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏á ‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏´‡∏•‡∏°‡∏≤ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏™‡∏î‡πÉ‡∏™ üíñ','‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏î‡πÉ‡∏™‡πÅ‡∏•‡∏∞‡πÄ‡∏à‡∏≠‡πÅ‡∏ï‡πà‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏î‡∏µ ‡πÜ ‚ú®'];
    document.getElementById('randomWish').addEventListener('click',()=>{const t=wishes[(Math.random()*wishes.length)|0];typeText(wishText,t);fireConfetti();});
    document.getElementById('copyWish').addEventListener('click',async()=>{try{await navigator.clipboard.writeText(wishText.innerText.trim());alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ‚ú®');}catch{alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');}});
    function typeText(el,text){el.innerText='';let i=0;const timer=setInterval(()=>{el.innerText+=text[i++]||'';if(i>=text.length)clearInterval(timer);},18);}

    /* Confetti effect */
    const c=document.getElementById('confetti'),cx=c.getContext('2d');let pieces=[];
    function resizeC(){c.width=innerWidth;c.height=innerHeight;}resizeC();addEventListener('resize',resizeC);
    function fireConfetti(){pieces=[];for(let i=0;i<120;i++){pieces.push({x:innerWidth/2,y:innerHeight/2,vx:(Math.random()-.5)*8,vy:(Math.random()-.8)*8,r:3+Math.random()*3,a:1,color:colors[(Math.random()*colors.length)|0]});} }
    (function loop(){cx.clearRect(0,0,c.width,c.height);pieces.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=0.15;p.a-=0.008;cx.globalAlpha=Math.max(p.a,0);cx.beginPath();cx.arc(p.x,p.y,p.r,0,Math.PI*2);cx.fillStyle=p.color;cx.fill();});requestAnimationFrame(loop);})();
  </script>
</body>
</html>
